# 개발 일지 (2025년 12월 10일)

## 1. 작업 목표

- **1차 목표**: 프론트엔드 기본 기능 구현 및 백엔드 API 연동.
- **2차 목표**: 1차 구현을 기반으로 식단 페이지를 고도화하고, 상세 데이터를 표시하는 대시보드 기능 추가.

---

## 2. 완료된 작업

### 가. 1차: API 연동 및 기본 기능 구현
- **공통 API 클라이언트**: `axios` 인스턴스를 중앙화하고, 요청/응답을 일괄 처리하는 인터셉터를 구현하여 API 통신 기반을 마련했습니다.
- **API 모듈 구현**: `usersApi`, `mealPlanApi`, `shoppingApi` 모듈을 통해 백엔드 API를 호출할 수 있도록 함수를 구현했습니다.
- **페이지별 기능 구현**:
    - **MealPlanPage**: 사용자 자동 생성/유지, 최신 식단 조회, 식단 자동 생성 기능의 기본 골격을 구현했습니다.
    - **ShoppingPage**: 식재료 검색 및 추천 기능을 연동하고 결과를 화면에 표시하는 기본 UI를 확인했습니다.

### 나. 2차: 식단 페이지 고도화 및 대시보드화
- **통계 데이터 로직 추가**: `MealPlanPage.vue`에 `computed` 속성을 사용하여, 식단 데이터(`overview`)를 기반으로 **평균 섭취 칼로리(`avgCalories`)**와 **목표 달성률(`achievementRate`)**을 동적으로 계산하는 로직을 추가했습니다.
- **대시보드 UI 구현**: `MealPlanPage.vue` 상단에 3개의 통계 카드(①기간/목표, ②평균 섭취량, ③달성률)를 추가하여 주요 정보를 한눈에 파악할 수 있도록 개선했습니다.
- **캘린더 컴포넌트 리팩토링**: `MealPlanCalendar.vue`가 더미 데이터 대신, `props`로 실제 `days` 배열 데이터를 받아 각 날짜 카드를 렌더링하도록 수정했습니다.
    - 날짜 형식을 'MM/DD(요일)'로 변환하는 기능을 적용했습니다.
- **페이지 라우팅 연결**: `MealPlanPage.vue`에 '이 식단 재료 장보기' 버튼을 추가하여, 클릭 시 `/shopping` 페이지로 이동하도록 구현했습니다.
- **코드 정리**: 디버깅 과정에서 추가했던 불필요한 `console.log`를 제거하여 코드의 가독성을 향상시켰습니다.

---

## 3. 주요 이슈 및 해결 과정

초기 API 연동 후, 실제 데이터를 처리하는 과정에서 발생한 주요 이슈들을 해결하여 안정성을 확보했습니다.

- **이슈 1: 사용자 생성 시 이메일 중복 오류**
    - **원인**: `localStorage` 초기화 후, 고정된 이메일로 사용자 생성을 재시도하여 발생.
    - **해결**: 사용자 생성 시 `Date.now()`를 조합한 고유 이메일을 사용하도록 수정.

- **이슈 2: 사용자 ID 처리 방식 불일치 (`NaN` 오류)**
    - **원인**: 프론트엔드는 사용자 정보 객체를 예상했으나, 백엔드는 생성된 `userId`만 숫자로 직접 반환.
    - **해결**: 백엔드 응답에 맞춰, 반환된 숫자 값을 `userId`로 즉시 사용하도록 로직 수정.

- **이슈 3: 신규 사용자의 식단 조회 오류**
    - **원인**: 식단이 없는 신규 사용자의 식단 조회 시, 백엔드가 반환하는 `400 Bad Request`를 프론트엔드가 일반 오류로 처리.
    - **해결**: 해당 응답 메시지를 정상적인 시나리오로 간주, 오류 메시지 대신 "생성된 식단이 없습니다"라는 안내 문구가 표시되도록 예외 처리 로직 수정.

---

## 4. 결론

오늘 작업을 통해 프론트엔드는 단순 API 연동 수준을 넘어, **동적 데이터를 계산하고 시각화하는 대시보드 형태**로 발전했습니다. 초기 구현부터 고도화, 그리고 그 과정에서 발생한 여러 이슈 해결까지 성공적으로 마무리하여 프로젝트의 안정성과 완성도를 크게 높였습니다.