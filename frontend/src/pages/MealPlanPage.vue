<template>
  <div class="page">
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="page__header">
      <div>
        <h1>í•œ ë‹¬ ì‹ë‹¨ í”Œëœ</h1>
        <p>
          TDEEì™€ ì˜ˆì‚°ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ ìƒì„±ë  ì‹ë‹¨ì˜ ë ˆì´ì•„ì›ƒì…ë‹ˆë‹¤.
          ì§€ê¸ˆì€ ë”ë¯¸ ë°ì´í„°ë¡œ UIë§Œ ë¨¼ì € ì¡ì•„ë‘ì—ˆìŠµë‹ˆë‹¤.
        </p>
      </div>
      <NnButton block>
        ì‹ë‹¨ ìë™ ìƒì„± (ì¶”í›„ ì—°ë™)
      </NnButton>
    </header>

    <!-- ê°€ìš´ë°: íˆì–´ë¡œ + í†µê³„ ì¹´ë“œ ì˜ì—­ -->
    <section class="page__top-grid">
      <!-- ì•„ë³´ì¹´ë„ íˆì–´ë¡œ ì¹´ë“œ -->
      <NnCard class="hero-card">
        <div class="hero-card__inner">
          <div class="hero-card__character">
            <div class="hero-card__circle">
              ğŸ¥‘
            </div>
            <div class="hero-card__speech">
              <span>ì˜¤ëŠ˜ë„ </span><strong>80%</strong><span> ë§Œí¼ ì˜ í•˜ê³  ìˆì–´ìš”!</span>
            </div>
          </div>

          <div class="hero-card__info">
            <div class="hero-card__row">
              <span class="hero-card__label">ì´ë²ˆ ì£¼ í‰ê·  ì„­ì·¨</span>
              <span class="hero-card__value">1,820 kcal</span>
            </div>
            <div class="hero-card__row">
              <span class="hero-card__label">ì´ë²ˆ ì£¼ í‰ê·  ì†Œëª¨</span>
              <span class="hero-card__value">2,050 kcal</span>
            </div>
            <div class="hero-card__row hero-card__row--highlight">
              <span class="hero-card__label">ì´ë²ˆ ì£¼ ì²´ì¤‘ ë³€í™”</span>
              <span class="hero-card__value hero-card__value--good">-0.6 kg</span>
            </div>
          </div>
        </div>
      </NnCard>

      <!-- ì˜¤ë¥¸ìª½ í†µê³„ ì¹´ë“œ 2ê°œ -->
      <div class="stat-column">
        <NnCard
          title="ì´ë²ˆ ë‹¬ ëª©í‘œ ë‹¬ì„±ë¥ "
          subtitle="ëª©í‘œ ì¹¼ë¡œë¦¬ ëŒ€ë¹„ í‰ê·  ì„­ì·¨ëŸ‰ ê¸°ì¤€"
          class="stat-card"
        >
          <div class="stat-card__main">
            <div class="stat-card__percent">
              <span class="stat-card__percent-value">80%</span>
              <span class="stat-card__percent-label">ë‹¬ì„± ì¤‘</span>
            </div>
            <div class="stat-card__bars">
              <div class="stat-card__bar">
                <span>ì„­ì·¨ ì¹¼ë¡œë¦¬</span>
                <div class="stat-card__bar-track">
                  <div class="stat-card__bar-fill stat-card__bar-fill--green" style="width: 78%"></div>
                </div>
                <small>í‰ê·  1,780 kcal / ëª©í‘œ 1,800 kcal</small>
              </div>
              <div class="stat-card__bar">
                <span>ìš´ë™ëŸ‰</span>
                <div class="stat-card__bar-track">
                  <div class="stat-card__bar-fill stat-card__bar-fill--blue" style="width: 62%"></div>
                </div>
                <small>ì£¼ 3íšŒ / ëª©í‘œ ì£¼ 4íšŒ</small>
              </div>
            </div>
          </div>
        </NnCard>

        <NnCard
          title="ì´ë²ˆ ì£¼ í¬ì¸íŠ¸"
          subtitle="ê°€ë²¼ìš´ ë¦¬í¬íŠ¸ í˜•íƒœë¡œ ë³´ì—¬ì¤„ ì˜ˆì •"
          class="stat-card"
        >
          <ul class="stat-card__list">
            <li>
              <span>ì•¼ì‹ ì„­ì·¨ íšŸìˆ˜</span>
              <strong>1íšŒ</strong>
            </li>
            <li>
              <span>íƒ„ìˆ˜ ë¹„ì¤‘</span>
              <strong>ì¡°ê¸ˆ ë†’ì€ í¸</strong>
            </li>
            <li>
              <span>ë¬¼ ì„­ì·¨ëŸ‰</span>
              <strong>í•˜ë£¨ í‰ê·  1.6L</strong>
            </li>
          </ul>
        </NnCard>
      </div>
    </section>

    <!-- ì•„ë˜: í•œ ë‹¬ ì‹ë‹¨ ìš”ì•½ ì¹´ë“œ -->
    <NnCard class="month-summary-card">
      <h2 class="month-summary-card__title">ì´ë²ˆ ë‹¬ ì‹ë‹¨ ê°œìš”</h2>
      <p class="month-summary-card__subtitle">
        ë”ë¸”í´ë¦­í•˜ë©´ ìƒì„¸ ì‹ë‹¨(ì•„ì¹¨/ì ì‹¬/ì €ë…)ì„ ë³¼ ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë‚˜ì¤‘ì— í™•ì¥í•  ì˜ˆì •ì…ë‹ˆë‹¤.
      </p>

      <div class="month-summary-card__grid">
        <div
          v-for="day in exampleDays"
          :key="day.date"
          class="day-card"
        >
          <div class="day-card__date">{{ day.date }}</div>
          <div class="day-card__kcal">{{ day.kcal }} kcal</div>
          <div class="day-card__tag">{{ day.tag }}</div>
        </div>
      </div>
    </NnCard>
  </div>
</template>

<script setup>
import NnButton from '../components/common/NnButton.vue';
import NnCard from '../components/common/NnCard.vue';

// TODO: ë‚˜ì¤‘ì— ì‹¤ì œ /api/meal-plans ì‘ë‹µìœ¼ë¡œ êµì²´í•  ë”ë¯¸ ë°ì´í„°
const exampleDays = [
  { date: '12/01(ì›”)', kcal: 1800, tag: 'ì•„Â·ì Â·ì € ê· í˜•ì‹' },
  { date: '12/02(í™”)', kcal: 1750, tag: 'íƒ„ìˆ˜ ì¡°ê¸ˆ ë‚®ì¶¤' },
  { date: '12/03(ìˆ˜)', kcal: 1900, tag: 'ìš´ë™ í›„ ê³ ë‹¨ë°±' },
  { date: '12/04(ëª©)', kcal: 1700, tag: 'ì €ë… ì•¼ì‹ ì»·' },
];
</script>

<style scoped>
.page {
  max-width: 1020px;
  margin: 0 auto;
  padding: 18px 8px 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* ìƒë‹¨ í—¤ë” */
.page__header {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 16px;
}

.page__header h1 {
  margin: 0;
  font-size: 22px;
  font-weight: 700;
  color: #111827;
}

.page__header p {
  margin: 6px 0 0;
  font-size: 13px;
  color: #6b7280;
}

/* ê°€ìš´ë° ê·¸ë¦¬ë“œ */
.page__top-grid {
  display: grid;
  grid-template-columns: 2.1fr 1.3fr;
  gap: 16px;
}

/* íˆì–´ë¡œ ì¹´ë“œ */
.hero-card {
  padding: 0;
}

.hero-card__inner {
  display: flex;
  gap: 16px;
  padding: 18px 20px;
  background: radial-gradient(circle at 20% 0%, #bbf7d0 0, #ecfeff 45%, #ffffff 100%);
  border-radius: 12px;
}

.hero-card__character {
  flex: 0 0 180px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

.hero-card__circle {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: linear-gradient(145deg, #22c55e, #16a34a);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 68px;
  box-shadow:
    0 12px 30px rgba(22, 163, 74, 0.5),
    inset 0 -6px 12px rgba(15, 118, 110, 0.4);
}

.hero-card__speech {
  font-size: 14px;
  color: #047857;
}

.hero-card__speech strong {
  font-weight: 800;
}

.hero-card__info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
  justify-content: center;
}

.hero-card__row {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  padding: 6px 10px;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.7);
}

.hero-card__row--highlight {
  border: 1px solid #bbf7d0;
  background: #ecfdf5;
}

.hero-card__label {
  color: #6b7280;
}

.hero-card__value {
  font-weight: 600;
  color: #111827;
}

.hero-card__value--good {
  color: #16a34a;
}

/* ì˜¤ë¥¸ìª½ í†µê³„ ì¹´ë“œ */
.stat-column {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.stat-card {
  height: 100%;
}

.stat-card__main {
  display: flex;
  gap: 12px;
}

.stat-card__percent {
  min-width: 90px;
  text-align: center;
}

.stat-card__percent-value {
  display: block;
  font-size: 26px;
  font-weight: 800;
  color: #4f46e5;
}

.stat-card__percent-label {
  font-size: 12px;
  color: #6b7280;
}

.stat-card__bars {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.stat-card__bar > span {
  font-size: 12px;
  color: #4b5563;
}

.stat-card__bar-track {
  margin-top: 3px;
  width: 100%;
  height: 6px;
  border-radius: 999px;
  background: #e5e7eb;
  overflow: hidden;
}

.stat-card__bar-fill {
  height: 100%;
  border-radius: 999px;
}

.stat-card__bar-fill--green {
  background: #22c55e;
}

.stat-card__bar-fill--blue {
  background: #3b82f6;
}

.stat-card__bar small {
  display: block;
  margin-top: 2px;
  font-size: 11px;
  color: #9ca3af;
}

/* ë¦¬ìŠ¤íŠ¸ ì¹´ë“œ */
.stat-card__list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 13px;
}

.stat-card__list li {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stat-card__list span {
  color: #4b5563;
}

.stat-card__list strong {
  color: #111827;
}

/* ì•„ë˜ í•œ ë‹¬ ìš”ì•½ ì¹´ë“œ */
.month-summary-card__title {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #111827;
}

.month-summary-card__subtitle {
  margin: 4px 0 12px;
  font-size: 13px;
  color: #6b7280;
}

.month-summary-card__grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.day-card {
  min-width: 150px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  background: #f9fafb;
  font-size: 12px;
}

.day-card__date {
  font-weight: 600;
  color: #111827;
}

.day-card__kcal {
  margin-top: 2px;
  font-weight: 600;
  color: #4b5563;
}

.day-card__tag {
  margin-top: 3px;
  color: #6b7280;
}
</style>
