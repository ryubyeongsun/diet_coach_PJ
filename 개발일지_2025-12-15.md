## 개발일지 (2025-12-15)

### 1. 초기 버그 수정 및 현황 분석

-   **회원가입 서버 오류 해결**:
    -   **문제**: 회원가입 시 `NOT NULL` 제약조건으로 인한 DB 오류 발생.
    -   **해결**: `schema.sql` 파일을 수정하여, 회원가입 시 받지 않는 프로필 관련 컬럼(`gender`, `height` 등)에 `NULL`을 허용하도록 변경.
-   **프로젝트 현황 분석 및 문서화**:
    -   전체 코드 베이스(백엔드, 프론트엔드)를 분석하여 기술 스택, 구현된 기능 목록, 개선점을 파악함.
    -   분석 결과를 바탕으로 `PROJECT_STATUS_ACCURATE.md` 문서를 작성하여 2인 개발을 위한 역할 분담 제안까지 완료함.

### 2. 'Dev B' 역할 PRD 기반 기능 구현

전달받은 PRD의 우선순위에 따라 5가지 주요 항목을 구현했습니다.

-   **B-1. 프로필 입력 흐름 완성 (완료)**
    -   **Backend**: 사용자 프로필(`성별`, `키`, `활동량` 등)을 업데이트하는 `PUT /api/users/{id}/profile` API를 신규 구현함 (Controller, Service, Mapper 수정).
    -   **Frontend**:
        -   프로필 정보를 입력받는 `ProfileSetupPage.vue` 페이지를 생성함.
        -   로그인 후 프로필 정보가 없는 사용자가 주요 기능 페이지(`/meal-plans` 등) 접근 시, 프로필 입력 페이지로 강제 이동시키는 '라우터 가드'를 `router/index.js`에 구현함.

-   **B-2. 메인 대시보드 UX 정리 (완료)**
    -   `MealPlanPage.vue`의 대시보드 요약 카드에 '목표 칼로리', '평균 섭취량' 항목을 추가함.
    -   트렌드 차트에 '7일'/'30일' 기간 선택 기능을 추가하고, 해당 기간에 맞게 데이터를 동적으로 조회하도록 로직을 수정함.
    -   차트 데이터가 부족할 경우 "데이터가 충분하지 않습니다" 메시지를 표시하도록 예외 처리함.

-   **B-3. 체중 기록 UX 개선 (완료)**
    -   **Backend**: 특정 체중 기록을 삭제하는 `DELETE /users/{userId}/weights/{recordId}` API를 신규 구현함.
    -   **Frontend**:
        -   `WeightPage.vue`의 각 기록 항목에 '삭제' 버튼을 추가하고, `window.confirm` 확인창을 통해 안전하게 삭제하는 기능을 구현함.
        -   오늘 체중 기록이 없을 경우, 입력을 유도하는 안내 메시지를 추가함.

-   **B-4. '식단 → 쇼핑' 연결 UX 명확화 (완료)**
    -   `MealPlanPage.vue`의 장보기 버튼 텍스트를 "이번 달 식단 재료 장보기"로 명확하게 수정함.
    -   `ShoppingPage.vue`에서 식단 기간을 표시하고, 해당 식단에 포함된 모든 재료의 중복을 이름 기준으로 합산하여 보여주는 '재료 집계' 로직을 구현함.

-   **B-5. 전역 에러 & 로딩 UX 통일 (완료)**
    -   모든 API 요청에 대해 일관된 사용자 경험을 제공하기 위해 전역 상태 관리 로직을 구현함.
    -   **Axios 인터셉터**를 사용하여 API 요청 시 자동으로 로딩 스피너를, 에러 발생 시 에러 메시지 배너를 화면에 표시하도록 `http.js`와 `App.vue`를 수정함.

### 3. 추가 버그 수정

-   **로그인/회원가입 실패 오류 해결**:
    -   **문제**: `http.js` 인터셉터 수정 후, API 응답 데이터 처리 방식이 변경되어 로그인과 회원가입이 실패하는 문제 발생.
    -   **해결**: `authApi.js`에서 API 응답을 중복으로 파싱하던 부분을 제거하여, 인터셉터의 로직과 일치하도록 수정 완료.
-   **백엔드/프론트엔드 자잘한 오류 수정**:
    -   `WeightRecordController`의 `void` 타입 반환 오류를 수정함.
    -   `WeightPage.vue`의 API 함수 임포트 오류를 수정함.
    -   `SignupPage.vue`의 프론트엔드 유효성 검사 로직을 보강함.
